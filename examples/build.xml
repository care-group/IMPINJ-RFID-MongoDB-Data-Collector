<?xml version="1.0"?> 
 <!-- NOTE: to generate java code for any extensions, configure the  -->
 <!-- properties file at $(propertiesFile) accordingly -->
 <!-- DO NOT EDIT THIS FILE -->
<project name="ImpinjLTKSamples" default="all" basedir=".">
     <property name="src" value="source"/> 
     <property name="build" value="target"/>
     <property name="classpath" value="${build}/classes"/>
     <property name="libdir" value="../jars/"/>

     <target name="init"> 
     	  <echo>using ant version '${ant.version}'</echo>
          <echo>using java version '${java.version}'</echo>
          <mkdir dir="${build}"/>
          <mkdir dir="${build}/classes"/>
     </target>

    <target name="datacollector" depends="init">
        <echo message="Building DataCollector ..."/>
        <javac includeantruntime="false" srcdir="${src}/org/impinj/llrp/ltk/examples/datacollector" 
		  		 destdir="${build}/classes" 
		  		 debug="true" 
		  		 target="1.7"
		  		 source="1.7">
         <classpath>
                <pathelement path="${classpath}"/>
		<fileset dir="${libdir}">
          		<include name="ltkjava-*-with-dependencies.jar"/>
			<include name="mongo-java-driver-3.10.2.jar"/>
     		</fileset>
         </classpath>
        </javac>
    </target>

    <target name="run-datacollector" depends="datacollector">
        <echo message="Running DataCollector..."/>
            <java classname="org.impinj.llrp.ltk.examples.datacollector.DataCollector" fork="yes" >
            <arg value="${readername}"/>
            <classpath>
                    <pathelement path="${classpath}"/>
                    <pathelement location="target/classes"/>
		    <fileset dir="${libdir}">
          		<include name="ltkjava-*-with-dependencies.jar"/>
			<include name="mongo-java-driver-3.10.2.jar"/>
     		    </fileset>
            </classpath>
            </java>
    </target>


    <target name="docsample1" depends="init">
        <echo message="Building DocSample1 ..."/>
        <javac includeantruntime="false" srcdir="${src}/org/impinj/llrp/ltk/examples/docsample1" 
		  		 destdir="${build}/classes" 
		  		 debug="true" 
		  		 target="1.7"
		  		 source="1.7">
         <classpath>
                <pathelement path="${classpath}"/>
		<fileset dir="${libdir}">
          		<include name="ltkjava-*-with-dependencies.jar"/>
     		</fileset>
         </classpath>
        </javac>
    </target>

    <target name="run-docsample1" depends="docsample1">
        <echo message="Running DocSample1 ..."/>
            <java classname="org.impinj.llrp.ltk.examples.docsample1.DocSample1" fork="yes" >
            <arg value="${readername}"/>
            <classpath>
                    <pathelement path="${classpath}"/>
                    <pathelement location="target/classes"/>
		    <fileset dir="${libdir}">
          		<include name="ltkjava-*-with-dependencies.jar"/>
     		    </fileset>
            </classpath>
            </java>
    </target>

    <target name="docsample2" depends="init">
        <echo message="Building DocSample2 ..."/>
        <javac includeantruntime="false" srcdir="${src}/org/impinj/llrp/ltk/examples/docsample2" 
		  		 destdir="${build}/classes" 
		  		 debug="true" 
		  		 target="1.7"
		  		 source="1.7">
         <classpath>
                <pathelement path="${classpath}"/>
		<fileset dir="${libdir}">
          		<include name="ltkjava-*-with-dependencies.jar"/>
     		</fileset>
         </classpath>
        </javac>
    </target>

    <target name="run-docsample2" depends="docsample2">
        <echo message="Running DocSample2 ..."/>
            <java classname="org.impinj.llrp.ltk.examples.docsample2.DocSample2" fork="yes" >
            <arg value="${readername}"/>
            <classpath>
                    <pathelement path="${classpath}"/>
                    <pathelement location="target/classes"/>
		    <fileset dir="${libdir}">
          		<include name="ltkjava-*-with-dependencies.jar"/>
     		    </fileset>
            </classpath>
            </java>
    </target>

    <target name="docsample3" depends="init">
        <echo message="Building DocSample3 ..."/>
        <javac includeantruntime="false" srcdir="${src}/org/impinj/llrp/ltk/examples/docsample3" 
		  		 destdir="${build}/classes" 
		  		 debug="true" 
		  		 target="1.7"
		  		 source="1.7">
         <classpath>
                <pathelement path="${classpath}"/>
		<fileset dir="${libdir}">
          		<include name="ltkjava-*-with-dependencies.jar"/>
     		</fileset>
         </classpath>
        </javac>
    </target>

    <target name="run-docsample3" depends="docsample3">
        <echo message="Running DocSample3 ..."/>
            <java classname="org.impinj.llrp.ltk.examples.docsample3.DocSample3" fork="yes" >
            <arg value="${readername}"/>
            <classpath>
                    <pathelement path="${classpath}"/>
                    <pathelement location="target/classes"/>
		    <fileset dir="${libdir}">
          		<include name="ltkjava-*-with-dependencies.jar"/>
     		    </fileset>
            </classpath>
            </java>
    </target>

    <target name="docsample4" depends="init">
        <echo message="Building DocSample4 ..."/>
        <javac includeantruntime="false" srcdir="${src}/org/impinj/llrp/ltk/examples/docsample4" 
		  		 destdir="${build}/classes" 
		  		 debug="true" 
		  		 target="1.7"
		  		 source="1.7">
         <classpath>
                <pathelement path="${classpath}"/>
		<fileset dir="${libdir}">
          		<include name="ltkjava-*-with-dependencies.jar"/>
     		</fileset>
         </classpath>
        </javac>
    </target>

    <target name="run-docsample4" depends="docsample4">
        <echo message="Running DocSample4 ..."/>
            <java classname="org.impinj.llrp.ltk.examples.docsample4.DocSample4" fork="yes" >
            <arg value="${readername}"/>
            <classpath>
                    <pathelement path="${classpath}"/>
                    <pathelement location="target/classes"/>
		    <fileset dir="${libdir}">
          		<include name="ltkjava-*-with-dependencies.jar"/>
     		    </fileset>
            </classpath>
            </java>
    </target>

    <target name="all" depends="docsample1, docsample2, docsample3, docsample4, datacollector">
    </target>

    <target name="run-all" depends="run-docsample1, run-docsample2, run-docsample3">
    </target>
	<!-- Remove build directories -->
	<!-- ===================================== -->
	<target name="clean" >
		<delete dir="${build}" />
		<delete dir="${src}/${generated}" />
		<delete dir="${src}/org/llrp/ltkGenerator/generated" />
	</target>
	
</project>
